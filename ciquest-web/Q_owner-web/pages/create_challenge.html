<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>チャレンジ作成 - CiQuest オーナー</title>

  <!-- 共通CSS -->
  <link rel="stylesheet" href="../../css/base/base.css">
  <link rel="stylesheet" href="../../css/owner/common.css">

  <!-- このページ専用CSS -->
  <link rel="stylesheet" href="../../css/owner/create_challenge.css">
</head>
<body>
  <header>
    <h1>チャレンジ作成</h1>
    <nav>
      <a href="dashboard.html" class="active">ホーム</a>
      <a href="create_challenge.html">チャレンジ作成</a>
      <a href="my_challenges.html">チャレンジ一覧</a>
      <a href="stamp_settings.html">スタンプ設定</a>
      <a href="stats.html">統計</a>
    </nav>
  </header>

  <main>
    <section class="challenge-form">
      <h2>新しいチャレンジを作成</h2>
      <form id="createChallengeForm" onsubmit="return false;">
        <label for="title">タイトル</label>
        <input type="text" id="title" name="title" placeholder="例：写真を撮って投稿しよう！" required>

        <label for="description">説明</label>
        <textarea id="description" name="description" rows="4" placeholder="チャレンジの詳細説明を入力してください"></textarea>

        <label for="type">チャレンジタイプ</label>
        <select id="type" name="type">
          <option value="PHOTO">写真投稿</option>
          <option value="QR">QR読み取り</option>
          <option value="VISIT">来店チェックイン</option>
        </select>

        <label for="quest_type">クエストの種類</label>
        <select id="quest_type" name="quest_type" required onchange="toggleRewardFields()">
          <option value="common">共通クエスト</option>
          <option value="store_specific">店舗独自クエスト</option>
        </select>

        <!-- 共通クエスト用固定報酬 -->
        <div id="commonReward" class="reward-section">
          <p class="fixed-info">報酬：20ポイント（固定）</p>
        </div>

        <!-- 独自クエスト用報酬選択 -->
        <div id="storeSpecificReward" class="reward-section hidden">
          <label for="reward_type">報酬タイプ</label>
          <select id="reward_type" name="reward_type" onchange="toggleRewardDetail()">
            <option value="">選択してください</option>
            <option value="coupon">クーポン</option>
            <option value="service">サービス</option>
          </select>

          <div id="reward_coupon" class="hidden">
            <label for="reward_coupon_id">クーポンを選択</label>
            <select id="reward_coupon_id" name="reward_coupon_id">
              <option value="">登録済みクーポンを選択</option>
              <!-- Django/JSで店舗のクーポン一覧を取得して反映予定 -->
              <option value="1">ドリンク1杯無料クーポン</option>
              <option value="2">デザートサービス券</option>
            </select>
          </div>

          <div id="reward_service" class="hidden">
            <label for="reward_detail">サービス内容</label>
            <input type="text" id="reward_detail" name="reward_detail" placeholder="例：席予約優先、特別メニュー提供など">
          </div>
        </div>

        <div class="form-buttons">
          <button type="reset" class="cancel-btn">リセット</button>
          <button type="submit" class="submit-btn">作成する</button>
        </div>
      </form>
    </section>
  </main>

  <footer>
    <p>© 2025 CiQuest Owner Panel</p>
  </footer>

  <script src="../../js/owner/create_challenge.js"></script>
  <script src="../../js/common/navigation.js"></script>

</body>
</html>

